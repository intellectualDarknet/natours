const e=(e,o)=>{t();const a=`<div class="alert alert-${e}">${o}<div/>`;document.querySelector("body").insertAdjacentHTML("afterbegin",a),window.setTimeout(t,5e3)},t=()=>{const e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)},o=async(t,o)=>{try{"success"===(await axios({method:"POST",url:"http://localhost:5000/api/v1/users/login",data:{email:t,password:o}})).data.status&&(e("success","Logged in successfully!"),window.setTimeout((()=>{location.assign("/")}),1500))}catch(t){e("error",t.response.data.message)}};console.log("hello from the client side");const a=e=>{mapboxgl.accessToken="pk.eyJ1IjoiZGVhbXN0YXIiLCJhIjoiY2xlOHFla2RpMGN2ejNubHJwaDRrNWdvOSJ9.K6TeUGIPnXkZZpHgrdQYRw";var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",scrollZoom:!1});const o=new mapboxgl.LngLatBounds;e.forEach((e=>{const a=document.createElement("div");a.className="marker",new mapboxgl.Marker({element:a,anchor:"bottom"}).setLngLat(e.coordinates).addTo(t),new mapboxgl.Popup({offset:30}).setLngLat(e.coordinates).setHTML(`<p>Day ${e.day}: ${e.description}</p>`).addTo(t),o.extend(e.coordinates)})),t.fitBounds(o,{padding:{top:200,bottom:150,left:100,right:100}})},s=document.getElementById("map"),n=document.querySelector(".form"),r=document.querySelector(".nav__el__logout");if(s){a(JSON.parse(s.dataset.locations)),document.querySelector(".form").addEventListener("submit",(e=>{e.preventDefault(),o(email,password)}))}n&&n.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("email").value,a=document.getElementById("password").value;o(t,a)})),r&&addEventListener("click",(async()=>{try{(await axios({method:"GET",url:"http://localhost:5000/api/v1/users/login"})).data.status="success",location.reload(!0)}catch(t){e("error","Error logging out!. Try again")}}));
//# sourceMappingURL=index.js.map
